<div class="container-fluid">
  <br>
  <div class="row">
    <div class="col-sm-2">
      Total Samples :
      <strong>{{totalSamples}}</strong>
    </div>
    <div class="col-sm-2">
      Remaining Samples :
      <strong> 10 </strong>
    </div>
    <div class="col-sm-2">
      <button type="button" class="btn btn-success btn-sm" (click)="addNewSample()">Add new Samples</button>
    </div>
  </div>
  <form [formGroup]="sampleForm" *ngIf="showEditFields" (ngSubmit)="saveUpdateSample()">
    <div class="row">
      <div class="col-sm-3" style="margin-top: 21px;">
        <ng-select [allowClear]="true" [ngClass]="'ng-select'" [options]="supplierLotlist" placeholder='Select Supplier Lot' [(ngModel)]="supplierlot"
          (ngModelChange)='changeSupplierLot()' formControlName="supplierLot"></ng-select>
      </div>
      <div class="col-sm-3 custom-file" style="height: 76px;">
        <input type="file" style="margin-top: 26px;" (change)="onFileChange($event)" #fileInput class="custom-file-input">
        <span class="custom-file-control" style="margin-top: 26px">Drag and drop your files here</span>
      </div>
      <div class="col-sm-5">
        <ul class="list-inline" style="margin-bottom: 0px">
          <li class="list-group-item media-left" *ngFor="let item of attachments; let i=index">
            <img [src]="item.imagedata" class="media-object" />
            <span class="fa fa-trash" (click)="delete($event,i,attachments)"></span>
          </li>
        </ul>
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-sm-12 checkbox-zoom zoom-primary ">
        <label>
          <input type="checkbox" formControlName="qaAnalysis">
          <span class="cr">
            <i class="cr-icon icofont icofont-ui-check txt-primary"></i>
          </span>
          <span>Is Quality Analysis sample taken</span>
        </label>
      </div>

      <div class="col-sm-12  checkbox-zoom zoom-primary">
        <label>
          <input type="checkbox" formControlName="pathvirsuFcon">
          <span class="cr">
            <i class="cr-icon icofont icofont-ui-check txt-primary"></i>
          </span>
          <span>Is Pathogen/Virus/Indicator test sample taken</span>
        </label>
      </div>

      <div class=" col-sm-12  checkbox-zoom zoom-primary">
        <label>
          <input type="checkbox" formControlName="pestcidesFcon">
          <span class="cr">
            <i class="cr-icon icofont icofont-ui-check txt-primary"></i>
          </span>
          <span>Is Pesticide test sample taken</span>
        </label>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-2 col-form-label" style="padding-top:45px">Comments </label>
      <div class="col-sm-4">
        <textarea rows="4" cols="4" class="form-control" formControlName="comments" placeholder="Enter your comments"></textarea>
      </div>
      <div class="col-sm-1" style="padding-top:78px">
        <button type="submit" class="btn btn-primary btn-sm" [disabled]="!sampleForm.valid">Save</button>
      </div>
    </div>
  </form>
  <br>  
  <div class="row">
    <table class="table table-responsive">
      <thead>
        <tr>
          <th scope="col">Sample Id</th>
          <th scope="col">Supplier Lot</th>
          <th scope="col">Picture of the Label</th>
          <th scope="col">Is QA sample taken</th>
          <th scope="col">Is Pathogen/Virus/Indictor sample taken</th>
          <th scope="col">Is Pesticide Test sample taken</th>
          <th scope="col">Comments</th>
          <th scope="col">Edit/Delete</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let sample of sampleList">
          <th>{{sample.id}}</th>
          <td>{{sample.supplierLot}}</td>
          <td>
            <a> Preview </a>
          </td>
          <td>{{sample.quaAnalsisIndicator}}</td>
          <td>{{sample.paViIndIndicator}}</td>
          <td>{{sample.pesticideIndicator}}</td>
          <td>{{sample.conmment}}</td>
          <td>Edit/ Delete</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="row justify-content-between">
    <div class="col-sm-2">
      <button autofocus="" type="button" class="btn btn-success btn-md" (click)="onPrevious();">Previous</button>
    </div>
    <div class="col-sm-2 offset-sm-3">
      <button autofocus="" type="button" class="btn btn-success btn-md" (click)="onExit()">Exit</button>
    </div>
    <div class="col-sm-1 offset-sm-4">
      <button autofocus="" type="button" class="btn btn-success btn-md" (click)='onNext()'>Next</button>
    </div>
  </div>
</div>
